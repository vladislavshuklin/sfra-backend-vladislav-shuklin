<?xml version="1.0" encoding="UTF-8"?>
<jobs xmlns="http://www.demandware.com/xml/impex/jobs/2015-07-01">
    <job job-id="RebuildURLs">
        <description/>
        <parameters/>
        <split sequential="false">
            <contexts template-ref="template_40">
                <context site-id="RefArch"/>
                <context site-id="RefArchGlobal"/>
            </contexts>
            <flow-template template-id="template_40">
                <step step-id="RebuildURLs" type="UpdateStorefrontURLs" enforce-restart="false">
                    <description/>
                    <parameters/>
                </step>
            </flow-template>
        </split>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2018-06-25Z</date>
                <time>05:38:00.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="Reindex">
        <description/>
        <parameters/>
        <split sequential="false">
            <contexts template-ref="template_45">
                <context site-id="RefArch"/>
                <context site-id="RefArchGlobal"/>
            </contexts>
            <flow-template template-id="template_45">
                <step step-id="Reindex" type="SearchReindex" enforce-restart="false">
                    <description/>
                    <parameters>
                        <parameter name="Product related search indexes">true</parameter>
                        <parameter name="Active data search index">true</parameter>
                        <parameter name="Content search index">true</parameter>
                        <parameter name="Indexer Type">Full Index Rebuild</parameter>
                    </parameters>
                </step>
            </flow-template>
        </split>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2018-06-25Z</date>
                <time>05:36:00.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="TestJob">
        <description>Hello World</description>
        <parameters/>
        <flow>
            <context site-id="RefArch"/>
            <step step-id="TestJob" type="ExecuteScriptModule" enforce-restart="false">
                <description>Test Job Hello World</description>
                <parameters>
                    <parameter name="ExecuteScriptModule.Module">app_storefront_custom/cartridge/scripts/job/TestJobModule.js</parameter>
                    <parameter name="ExecuteScriptModule.FunctionName">execute</parameter>
                    <parameter name="ExecuteScriptModule.Transactional">false</parameter>
                    <parameter name="firstParam">Hello world</parameter>
                    <parameter name="secondParam">From</parameter>
                    <parameter name="thirdParam">Vlad</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2024-05-28Z</date>
                <time>07:32:00.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="CategoryAssignment">
        <description>Exercise 6 job that runs a javascript function (backend) that takes all products that have a certain brand (the brand is specified through a job parameter) and assigns them to a category of your choice. The javascript function creates an XML file that assigns all the products to the above-mentioned category. Please comment on your code.</description>
        <parameters/>
        <flow>
            <context site-id="RefArch"/>
            <step step-id="CategoryAssignment" type="ExecuteScriptModule" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="ExecuteScriptModule.Module">app_storefront_custom/cartridge/scripts/job/CategoryAssignment.js</parameter>
                    <parameter name="ExecuteScriptModule.FunctionName">execute</parameter>
                    <parameter name="ExecuteScriptModule.Transactional">false</parameter>
                    <parameter name="brand">Hello</parameter>
                    <parameter name="categoryID">newarrivals</parameter>
                    <parameter name="catalogID">storefront-catalog-m-en</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2024-05-28Z</date>
                <time>12:43:00.000Z</time>
            </run-once>
        </triggers>
    </job>

</jobs>
